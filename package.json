{
  "name": "functions",
  "private": true,
  "engines": {
    "node": "20"
  },
  "main": "lib/index.js",
  "scripts": {
    "build": "npx tsc -p tsconfig.json",
    "emu:test": "cross-env FIRESTORE_EMULATOR_HOST=127.0.0.1:6767 FIREBASE_AUTH_EMULATOR_HOST=127.0.0.1:6768 GCLOUD_PROJECT=demo-test TZ=UTC jest --runInBand --config ./jest.config.cjs",
    "test": "firebase emulators:exec --project demo-test --config ../firebase.test.json --only firestore,auth \"npm run emu:test\"",
    "emu:test:v2": "cross-env USE_ITEMID_V2=true FIRESTORE_EMULATOR_HOST=127.0.0.1:6767 FIREBASE_AUTH_EMULATOR_HOST=127.0.0.1:6768 GCLOUD_PROJECT=demo-test TZ=UTC jest --runInBand --config ./jest.config.cjs --testPathPattern=\"test/v2/\"",
    "test:v2": "firebase emulators:exec --project demo-test --config ../firebase.test.json --only firestore,auth \"npm run emu:test:v2\"",
    "seed:gamedata": "tsx seeds/seedGameData.ts",
    "seed:testplayer": "tsx seeds/seedTestPlayer.ts",
    "tools:normalize-v3": "TS_NODE_PROJECT=../tsconfig.tools.json node -r ts-node/register ../tools/normalize_v3_catalogs.ts",
    "tools:seed-firestore": "tsx tools/seedFirestore.ts",
    "tools:seed-sandbox": "tsx tools/seedFirestore.sandbox.ts",
    "tools:seed-production": "tsx tools/seedFirestore.production.ts",
    "tools:validate-v3": "TS_NODE_PROJECT=../tsconfig.tools.json node -r ts-node/register ../tools/validate_v3_catalogs.ts && TS_NODE_PROJECT=../tsconfig.tools.json node -r ts-node/register ../tools/validate_v3_skus.ts",
    "sync-clan-members": "tsx tools/syncAllClanMembersOnce.ts",
    "deploy:sandbox": "./tools/deploy-sandbox.sh",
    "deploy:production": "./tools/deploy-production.sh"
  },
  "dependencies": {
    "@google-analytics/data": "^5.2.1",
    "@google-cloud/pubsub": "^4.5.0",
    "crockford-base32": "^2.0.0",
    "firebase-admin": "^12.7.0",
    "firebase-functions": "^4.9.0",
    "google-auth-library": "^9.6.3",
    "picomatch": "^4.0.3"
  },
  "devDependencies": {
    "@types/jest": "^29.5.12",
    "@types/node": "^18.19.50",
    "@types/node-fetch": "^2.6.4",
    "cross-env": "^7.0.3",
    "firebase-functions-test": "^3.4.1",
    "firebase-tools": "^15.0.0",
    "jest": "^29.7.0",
    "node-fetch": "^2.7.0",
    "ts-jest": "^29.2.5",
    "ts-node": "^10.9.2",
    "tsx": "^4.15.7",
    "typescript": "^5.5.2"
  }
}
